import{j as e}from"./jsx-runtime.9YwcPWTT.js";import{r as t}from"./index.LFf77hJu.js";function d({children:s,setDone:l}){const[n,r]=t.useState(0),x=s.slice(0,n);return t.useEffect(()=>{if(n<s.length){const o=setTimeout(()=>{r(i=>i+1)},50);return()=>clearTimeout(o)}l()},[n]),e.jsxs("h1",{className:"w-3/4 text-center text-2xl md:text-3xl lg:text-7xl lg:leading-snug",children:[e.jsx("span",{children:x}),e.jsx("span",{className:"animate-pulse",children:n<s.length&&"|"})]})}function h({children:s,showCursor:l,setDone:n}){const[r,x]=t.useState(0),[o,i]=t.useState(!1),f=s.slice(0,r);return t.useEffect(()=>{if(l){const a=setTimeout(()=>i(!0),3e3);return()=>clearTimeout(a)}},[l]),t.useEffect(()=>{if(o&&r<s.length){const a=setTimeout(()=>{x(c=>c+1)},50);return()=>clearTimeout(a)}o&&n()},[o,r]),e.jsx("h2",{className:"text-center md:text-2xl lg:text-3xl",children:l&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:f}),e.jsx("span",{className:"animate-pulse",children:"|"})]})})}function j(){const[s,l]=t.useState(""),[n,r]=t.useState(""),[x,o]=t.useState(!1),[i,f]=t.useState(!1),a=t.useRef(null);return t.useEffect(()=>{const c=new AbortController,m=setTimeout(()=>c.abort(),3e3);return fetch("https://v2.jokeapi.dev/joke/Programming?blacklistFlags=nsfw,racist,sexist,explicit&type=twopart",{signal:c.signal}).then(u=>u.json()).then(u=>{l(u.setup),r(u.delivery)}).catch(u=>{l("Why couldn't web developers find their room in a hotel?"),r("Because their room number is 404"),console.error(u)}),()=>clearTimeout(m)},[]),t.useEffect(()=>{if(i){const c=setTimeout(()=>{a.current?.classList.add("animate-slide-out");const m=document.querySelector("body");m.style.overflowY="auto"},2e3);return()=>clearTimeout(c)}},[i]),s&&n?e.jsxs("div",{ref:a,className:"fixed z-10 flex h-full w-full flex-col items-center justify-center gap-10 bg-orange-100 lg:gap-20",children:[e.jsx(d,{setDone:()=>o(!0),children:s},s),e.jsx("hr",{className:"w-9/12 border-black"}),e.jsx(h,{showCursor:x,setDone:()=>f(!0),children:n},n)]}):e.jsxs("div",{ref:a,className:"fixed z-10 flex h-full w-full flex-col items-center justify-center gap-10 bg-orange-100 lg:gap-20",children:[e.jsx("h1",{className:"w-3/4 text-center text-2xl md:text-3xl lg:text-7xl lg:leading-snug",children:e.jsx("span",{className:"animate-pulse",children:"|"})}),e.jsx("hr",{className:"w-9/12 border-black"})]})}export{j as default};
